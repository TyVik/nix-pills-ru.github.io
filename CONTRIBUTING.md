# Как помочь проекту

Вы можете помогать проекту, участвуя в переводе или вычитке текста.

## Задачи

Для каждой из двадцати глав у мы создаём две задачи: на перевод и на вычитку.

Например [#1 Черновой перевод Why You Should Give it a Try 01/20](https://github.com/markshevchenko/nix-pills-ru/issues/1) и [#5 Вычитка Why You Should Give it a Try 01/20](https://github.com/markshevchenko/nix-pills-ru/issues/5).
Вторая задача выполняется после первой.

Если их делают разные люди, тогда можно делать их друг за другом.
Если один человек — мы рекомендуем выдержать по меньшей мере две недели, прежде чем приступать ко второй задаче.
Это поможет избежать замыленного глаза.

Вы можете выбрать себе любую главу, для которой уже есть задачи на перевод и вычитку, либо создать нужные задачи (issues) самостоятельно.

Например, вы хотите перевести главу [6 Our First Derivation](https://nixos.org/guides/nix-pills/our-first-derivation), для которой ещё нет задач.
Создайте две задачи:

1. С названием **Черновой перевод Our First Derivation 06/20**. Внутри укажите ссылку на главу, которую вы хотите перевести, а именно \[6. Our First Derivation\](https://nixos.org/guides/nix-pills/our-first-derivation) и имя файла для перевода, **pills/06-our-first-derivation.xml**.
2. С названием **Вычитка Our First Derivation 06/20**.

## Черновой перевод

Назначьте на себя незанятую задачу на перевод и создайте ветку с тем же именем, что и номер задачи.
Например для перевода [#1 Черновой перевод Why You Should Give it a Try 01/20](https://github.com/markshevchenko/nix-pills-ru/issues/1) я создал ветку **1**.

Выполните команды:

```shell
git fetch
git checkout -t origin/1
```

Здесь **origin/1** — ветка **1** в GitHub.

### Конвертация DocBook в markdown

Сконвертируйте текст из исходного репозитория **pills/01-why-you-should-give-it-a-try.xml** в markdown с помощью сервиса [AllDocs](https://alldocs.app/convert-docbook-to-markdown) (или любого другого, который вам нравится).

Исходная книга представлена в формате DocBook, но я не умею работать с этим форматом, поэтому предпочёл делать перевод в GitHub Markdown чтобы впоследствии, возможно, подготовить книгу с помощью [mdBook](https://github.com/rust-lang/mdBook).

### Предварительная разметка

Получившийся файл **01-why-you-should-give-it-a-try.md** поместите в каталог **pills**.
Его необходимо разметить, чтобы его удобно было переводить и впоследствии совместно править.

Нужно сделать две вещи:

1. Убрать переносы строк, так чтобы каждое предложение было в своей строке.
   Чтобы такой текст было удобно переводить, включите режим переноса слов в своём редакторе. Абзацы надо разделять пустой строкой.

   > ```text
   > What does all this mean?
   > It means that you could run mysql 5.2 with glibc-2.18, and mysql 5.5 with glibc-2.19. You could use your python module with python 2.7 compiled with gcc 4.6 and the same python module with python 3 compiled with gcc 4.8, all in the same system.
   >
   > In other words: no dependency hell, not even a dependency resolution algorithm. Straight dependencies from derivations to other derivations.
   > ```

1. Поставить символ "больше" (&gt;) в начало каждой строки с текстом, включая заголовки, но исключая примеры кода.
   Таким образом весь оригинальный английский текст становится цитатой.

### Перевод

Черновой перевод делается сразу за оригинальным текстом по абзацам, уже без цитирования.

```text
> ## Mutable vs. immutable

## Изменяемость против неизменяемости

> When upgrading a library, most package managers replace it in-place.
> All new applications run afterwards with the new library without being recompiled.
> After all, they all refer dynamically **libc6.so**.

При обновлении библиотеки большинство пакетных менеджеров переписывают её поверх предыдущей версии.
Затем все новые приложения запускаются с новой библиотекой без перекомпиляции.
Помимо всего прочего, все они динамически загружают **libc6.so**.
```

При черновом переводе больше внимания уделяйте точности, а не красоте слога.
Постарайтесь не переносить смысл между отдельными предложениями.
Если хотите оставить пояснения или соображения для последюущей вычитки, поместите его в XML-комментарий \<\!-- вот так -->.

### Завершаем черновой перевод

Завершив перевод, отправьте все изменения в центральный репозиторий и создайте Pull Request.
Когда он будет принят, задача будет закрыта автоматически.
Удалите ветку в центральном репозитории и затем в локальном.

## Вычитка

Назначьте на себя незанятую задачу на перевод и создайте ветку с тем же именем, что и номер задачи.
Например для перевода [#5 Вычитка Why You Should Give it a Try 01/20](https://github.com/markshevchenko/nix-pills-ru/issues/5) я создал ветку **5**.

Выполните команды:

```shell
git fetch
git checkout -t origin/5
```

Здесь **origin/5** — ветка **5** в GitHub.

### Повторный перевод

Ещё раз прочитайте текст на английском языке и переведите его на русский.
Затем сравните свой перевод с черновиком.
Если смысл текста передан верно, проверьте, что текст читается легко.
Если текст перегружен или неестественен, отредактируйте его.

### Чистка

После вычитки удалите из текста оригинальный английский текст.
Это удобно делать, поскольку он помечен символом "больше".

### Завершаем вычитку

Завершив вычитку, отправьте все изменения в центральный репозиторий и создайте Pull Request.
Когда он будет принят, задача будет закрыта автоматически.
Удалите ветку в центральном репозитории и затем в локальном.
